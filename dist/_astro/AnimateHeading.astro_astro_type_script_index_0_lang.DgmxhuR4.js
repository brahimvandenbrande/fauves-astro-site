const E="modulepreload",A=function(t){return"/"+t},h={},m=function(s,a,g){let e=Promise.resolve();if(a&&a.length>0){let o=function(r){return Promise.all(r.map(l=>Promise.resolve(l).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=i?.nonce||i?.getAttribute("nonce");e=o(a.map(r=>{if(r=A(r),r in h)return;h[r]=!0;const l=r.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${c}`))return;const n=document.createElement("link");if(n.rel=l?"stylesheet":E,l||(n.as="script"),n.crossOrigin="",n.href=r,u&&n.setAttribute("nonce",u),document.head.appendChild(n),l)return new Promise((w,f)=>{n.addEventListener("load",w),n.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${r}`)))})}))}function d(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return e.then(o=>{for(const i of o||[])i.status==="rejected"&&d(i.reason);return s().catch(d)})};window.__gsapCleanup||(window.__gsapCleanup=[]);const p=(...t)=>{};async function T(){try{const{gsap:t}=await m(async()=>{const{gsap:e}=await import("./index.acJusjrU.js");return{gsap:e}},[]),{SplitText:s}=await m(async()=>{const{SplitText:e}=await import("./SplitText.ez4hYmW8.js");return{SplitText:e}},[]),{ScrollTrigger:a}=await m(async()=>{const{ScrollTrigger:e}=await import("./ScrollTrigger.B1GGtPrJ.js");return{ScrollTrigger:e}},[]);t.registerPlugin(s,a),window.gsap=t,window.ScrollTrigger=a,t.config({nullTargetWarn:!1}),await document.fonts.ready;const g=document.querySelectorAll("[data-gsap-animate], .gsap-heading");if(g.length===0){console.warn("No animated headings found. Looking for elements with [data-gsap-animate] or .gsap-heading class");return}p(`Found ${g.length} headings to animate`);for(const e of g){if(!(e instanceof HTMLElement))continue;p("Animating heading:",e);const d=e.tagName==="H1";if(d){if(t.set(e,{opacity:1,clearProps:"transform"}),e.removeAttribute("aria-hidden"),!e.getAttribute("aria-label")){const n=e.textContent?.trim()||"";n&&e.setAttribute("aria-label",n)}continue}const o=new s(e,{type:"lines,words",linesClass:"gsap-line",wordsClass:"gsap-word"});if(e.removeAttribute("aria-hidden"),!e.getAttribute("aria-label")){const n=e.textContent?.trim()||"";n&&e.setAttribute("aria-label",n)}t.set(e,{opacity:0,y:20}),e.style.setProperty("opacity","0"),e.style.setProperty("transform","translateY(20px)"),e.style.setProperty("will-change","transform, opacity");const i=e.innerHTML,u=t.timeline({defaults:{duration:.8,ease:"power3.out"},onComplete:()=>{p("Animation complete for heading:",e),o.words&&o.words.forEach(n=>n.removeAttribute("aria-hidden")),e.removeAttribute("aria-hidden")}}),r=a.create({trigger:e,start:"top 80%",end:"center 20%",toggleActions:"play none none none",markers:!1,onEnter:()=>p("Heading entered viewport:",e),onEnterBack:()=>p("Heading re-entered viewport:",e)}),l=()=>{if(r&&"kill"in r&&typeof r.kill=="function"&&r.kill(),o&&typeof o.revert=="function")try{e.innerHTML=i,o.revert()}catch(n){console.warn("Error cleaning up SplitText:",n)}};window.__gsapCleanup&&window.__gsapCleanup.push(l),u.to(e,{opacity:1,y:0,duration:d?.8:1,ease:"power2.out"},d?0:.2);const c=d?.2:0;e.textContent&&e.textContent.trim()!==""&&(o.lines&&o.lines.length>0?o.lines.forEach((n,w)=>{const f=n,_=f.querySelectorAll(".gsap-word");u.to(_.length>0?_:[f],{opacity:1,y:0,stagger:.05,duration:.6},w===0?c:">0.2")}):o.words&&o.words.length>0&&u.to(o.words,{opacity:1,y:0,stagger:.05,duration:.6},c))}a.refresh()}catch(t){console.error("GSAP animation error:",t);const s=document.querySelectorAll("[data-gsap-animate], .gsap-heading");window.gsap&&s.forEach(a=>{window.gsap.set(a,{opacity:1,y:0,clearProps:"all"})})}}function v(){return window.__gsapCleanup&&Array.isArray(window.__gsapCleanup)&&(window.__gsapCleanup.forEach(t=>{try{typeof t=="function"&&t()}catch(s){console.warn("Cleanup function threw:",s)}}),window.__gsapCleanup=[]),T().then(()=>{setTimeout(()=>{const t=window.ScrollTrigger;t&&typeof t.refresh=="function"&&t.refresh()},500)}).catch(t=>(console.error("Error initializing animations:",t),Promise.reject(t)))}const C=600,y=()=>{const t=Date.now();window.__gsapInitLock||typeof window.__gsapLastInitTime=="number"&&t-window.__gsapLastInitTime<C||(window.__gsapInitLock=!0,v().finally(()=>{window.__gsapLastInitTime=Date.now(),window.__gsapInitLock=!1}))};document.readyState==="complete"||document.readyState==="interactive"?setTimeout(y,100):document.addEventListener("DOMContentLoaded",y);document.addEventListener("astro:page-load",()=>{setTimeout(y,120)});window.addEventListener("beforeunload",()=>{window.__gsapCleanup&&window.__gsapCleanup.forEach(t=>{try{typeof t=="function"&&t()}catch{}})});
